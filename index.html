<!DOCTYPE HTML>
<!--
	Introspect by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
	<head>
		<title>Inici - Ni un pam de terra</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<!-- afegir aquí els estils personalitzats del web -->
		<style>
			h2 {
				color: black;
			}
		</style>
	</head>
	
	<body>
		<script>
			fetch('header.html')
			  .then(response => response.text())
			  .then(data => {
				document.getElementById('header').innerHTML = data;
				const script = document.createElement('script');
            	script.src = 'assets/js/main.js';
           		document.body.appendChild(script);
			  });
			fetch('peudepagina.html')
				.then(response => response.text())
				.then(data => {
				document.getElementById('footer').innerHTML = data;
			});
			//Script per generar les notícies dinàmicament
			//Per generar una nova notícia cal crear un fitxer "postX.html" on X és el número de la notícia, després cal actualitzar
			//el fitxer directori_posts.json amb el títol, descripció i enllaç del posts.
			fetch('assets/posts/directori_posts.json')
				.then(response => response.json())
				.then(posts => {
					// Ordena els posts de més recent a més vell
					posts.sort((a, b) => {
						const dateA = new Date(a.data.split('/').reverse().join('-'));
						const dateB = new Date(b.data.split('/').reverse().join('-'));
						return dateB - dateA;
					});
					const blogList = document.querySelector('.blog-list');
					posts.forEach((post, index) => {
						if(index <3) {
							const postElement = document.createElement('div');
							postElement.className = 'blog-card';
							postElement.innerHTML = `<a href="${post.enllac}"><h4 class="h4-b" >${post.titol}</h4></a><p>${post.descripcio}</p>`;
							blogList.appendChild(postElement);
						}
						
					});
					if (posts.length > 3) {
							const carregames = document.createElement('a');
            				carregames.href = 'blog.html'; // Link to the full blog page
            				carregames.textContent = 'Carrega totes les novetats...';
            				carregames.className = 'carrega-mes'; // Add a class for styling
            				blogList.appendChild(carregames);
					};
			});
		</script>
		<div id="header"></div>
		<!-- Banner -->
			<section id="banner">
				<div class="inner">
					<h1>Ni Un Pam de Terra: <span>Aturem la destrucció del delta del llobregat</span></h1>
					<ul class="actions">
						<li><a href="quisom.html" class="button alt">Qui som?</a></li>
					</ul>
				</div>
			</section>

		<!-- One -->
			<section id="one">
				<!--<div class="inner">
					<header>
						<h2>Novetats</h2>
					</header>
					<h4>Primera notícia</h4>
					<p>Això és una notícia de prova.</p>
					<ul class="actions">
						<li><a href="#" class="button alt">Amplia notícia</a></li>
					</ul>
				</div>-->
				<div class="inner">
					<header>
						<h2>Novetats</h2>
					</header>
					<div class="blog-list"></div>
				</div>
			</section>
				
		<!-- Two -->
			<section id="two">
				<div class="inner">
					<article>
						<div class="content">
							<header>
								<h3>Pellentesque adipis</h3>
							</header>
							<div class="image fit">
								<img src="images/pic01.jpg" alt="" />
							</div>
							<p>Cumsan mollis eros. Pellentesque a diam sit amet mi magna ullamcorper vehicula. Integer adipiscin sem. Nullam quis massa sit amet lorem ipsum feugiat tempus.</p>
						</div>
					</article>
					<article class="alt">
						<div class="content">
							<header>
								<h3>Morbi interdum mol</h3>
							</header>
							<div class="image fit">
								<img src="images/pic02.jpg" alt="" />
							</div>
							<p>Cumsan mollis eros. Pellentesque a diam sit amet mi magna ullamcorper vehicula. Integer adipiscin sem. Nullam quis massa sit amet lorem ipsum feugiat tempus.</p>
						</div>
					</article>
				</div>
			</section>

		<!-- Three 
			<section id="three">
				<div class="inner">
					<article>
						<div class="content">
							<span class="icon fa-laptop"></span>
							<header>
								<h3>Tempus Feugiat</h3>
							</header>
							<p>Morbi interdum mollis sapien. Sed ac risus. Phasellus lacinia, magna lorem ullamcorper laoreet, lectus arcu.</p>
							<ul class="actions">
								<li><a href="#" class="button alt">Learn More</a></li>
							</ul>
						</div>
					</article>
					<article>
						<div class="content">
							<span class="icon fa-diamond"></span>
							<header>
								<h3>Aliquam Nulla</h3>
							</header>
							<p>Ut convallis, sem sit amet interdum consectetuer, odio augue aliquam leo, nec dapibus tortor nibh sed.</p>
							<ul class="actions">
								<li><a href="#" class="button alt">Learn More</a></li>
							</ul>
						</div>
					</article>
					<article>
					<div class="content">
							<span class="icon fa-laptop"></span>
							<header>
								<h3>Sed Magna</h3>
							</header>
							<p>Suspendisse mauris. Fusce accumsan mollis eros. Pellentesque a diam sit amet mi ullamcorper vehicula.</p>
							<ul class="actions">
								<li><a href="#" class="button alt">Learn More</a></li>
							</ul>
						</div>
					</article>
				</div>
			</section>
		-->
		<!-- Footer -->
		<div id="footer"></div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>

	</body>
</html>
